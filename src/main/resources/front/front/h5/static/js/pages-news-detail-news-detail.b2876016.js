(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-news-detail-news-detail"],{2048:function(e,t,i){"use strict";var n,r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{style:{minHeight:"100vh",padding:"24rpx 0",flexWrap:"wrap",background:"linear-gradient(0deg, rgba(255,255,255,1) 95%, rgba(34,56,96,1) 95%, rgba(34,56,96,1) 100%),#fff",display:"flex",width:"100%",position:"relative",justifyContent:"space-between",height:"auto"}},[i("v-uni-view",{staticClass:"title",style:{padding:"20rpx 0 0",margin:"0",color:"#333",borderRadius:"60rpx 60rpx 0 0",textAlign:"center",background:"#fff",width:"100%",lineHeight:"80rpx",fontSize:"32rpx"}},[e._v(e._s(e.detail.title))]),i("v-uni-view",{style:{border:"0",padding:"0 24rpx",flexWrap:"wrap",background:"#fff",display:"flex",width:"100%",justifyContent:"center"}},[i("v-uni-view",{style:{padding:"0",margin:"0 20rpx 0 0",order:"5"}},[i("v-uni-text",{staticClass:"icon iconfont icon-shijian21",style:{margin:"0 4rpx 0 0",lineHeight:"1.5",fontSize:"24rpx",color:"#999"}}),i("v-uni-text",{style:{color:"#999",lineHeight:"1.5",fontSize:"24rpx"}},[e._v("发布时间："+e._s(e.detail.addtime))])],1),i("v-uni-view",{style:{padding:"0",margin:"0 20rpx 0 0"}},[i("v-uni-text",{staticClass:"icon iconfont icon-geren11",style:{margin:"0 4rpx 0 0",lineHeight:"1.5",fontSize:"24rpx",color:"#999"}}),i("v-uni-text",{style:{color:"#999",lineHeight:"1.5",fontSize:"24rpx"}},[e._v(e._s(e.detail.name))])],1),i("v-uni-view",{style:{padding:"0",margin:"0 20rpx 0 0"}},[i("v-uni-text",{staticClass:"icon iconfont icon-zan10",style:{margin:"0 4rpx 0 0",lineHeight:"1.5",fontSize:"24rpx",color:"#999"}}),i("v-uni-text",{style:{color:"#999",lineHeight:"1.5",fontSize:"24rpx"}},[e._v(e._s(e.detail.thumbsupnum))])],1),i("v-uni-view",{style:{padding:"0",margin:"0 20rpx 0 0"}},[i("v-uni-text",{staticClass:"icon iconfont icon-shoucang10",style:{margin:"0 4rpx 0 0",lineHeight:"1.5",fontSize:"24rpx",color:"#999"}}),i("v-uni-text",{style:{color:"#999",lineHeight:"1.5",fontSize:"24rpx"}},[e._v(e._s(e.detail.storeupnum))])],1),i("v-uni-view",{style:{padding:"0",margin:"0 20rpx 0 0"}},[i("v-uni-text",{staticClass:"icon iconfont icon-chakan2",style:{margin:"0 4rpx 0 0",lineHeight:"1.5",fontSize:"24rpx",color:"#999"}}),i("v-uni-text",{style:{color:"#999",lineHeight:"1.5",fontSize:"24rpx"}},[e._v(e._s(e.detail.clicknum))])],1)],1),i("v-uni-view",{style:{padding:"0 20rpx 24rpx 0",alignItems:"center",borderRadius:"0 0 16rpx 0",background:"#fff",display:"flex",width:"35%",justifyContent:"flex-end",order:"8"}},[i("v-uni-view",{style:{border:"0px solid #eaeaea",padding:"0 20rpx 0 0",alignItems:"center",borderRadius:"16rpx",display:"flex",height:"64rpx"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.likeClick.apply(void 0,arguments)}}},[i("v-uni-text",{staticClass:"icon iconfont",class:(e.likeType,"icon-zan07"),style:{margin:"0 4rpx 0 0",lineHeight:"1.5",fontSize:"28rpx",color:"#666"}}),i("v-uni-text",{style:{color:"#666",lineHeight:"1.5",fontSize:"28rpx"}},[e._v(e._s(e.likeType?"已":"")+"赞")])],1),i("v-uni-view",{style:{border:"0px solid #eaeaea",padding:"0 10rpx",alignItems:"center",borderRadius:"16rpx",display:"flex",height:"64rpx"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.collectClick.apply(void 0,arguments)}}},[i("v-uni-text",{staticClass:"icon iconfont",class:(e.collectType,"icon-shoucang10"),style:{margin:"0 4rpx 0 0",lineHeight:"1.5",fontSize:"28rpx",color:"#666"}}),i("v-uni-text",{style:{color:"#666",lineHeight:"1.5",fontSize:"28rpx"}},[e._v(e._s(e.collectType?"已":"")+"收藏")])],1)],1),i("v-uni-view",{staticClass:"content",style:{width:"100%",padding:"24rpx",margin:"0",fontSize:"28rpx",background:"#fff",height:"auto"}},[i("v-uni-rich-text",{attrs:{nodes:e.detail.content}})],1),i("div",{style:{padding:"0 24rpx 24rpx",alignItems:"center",borderRadius:"0 0 0 16rpx",background:"#fff",display:"flex",width:"65%",justifyContent:"space-between",height:"auto"}},[i("div",{style:{border:"0px solid #eaeaea",padding:"0 10rpx",lineHeight:"64rpx",fontSize:"28rpx",color:"#666",borderRadius:"16rpx"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.prepDetailClick.apply(void 0,arguments)}}},[e._v("上一篇：prev")]),i("div",{style:{border:"0px solid #eaeaea",padding:"0 10rpx",lineHeight:"64rpx",fontSize:"28rpx",color:"#666",borderRadius:"16rpx"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.nextDetailClick.apply(void 0,arguments)}}},[e._v("下一篇：next")])]),i("v-uni-view",{staticClass:"hot",style:{width:"100%",margin:"40rpx 0 0",background:"none",height:"auto",order:"11"}},[i("v-uni-view",{style:{padding:"0 24rpx",color:"#223860",textAlign:"center",background:"url(http://codegen.caihongy.cn/20231208/dd4367eb2136483aa23e9dc12954f2df.png) no-repeat center top",width:"100%",fontSize:"32rpx",lineHeight:"100rpx",fontWeight:"600",height:"96rpx"}},[e._v("热门信息")]),i("v-uni-view",{style:{padding:"24rpx 20rpx 24rpx",borderRadius:"0 0 0px 0px",flexWrap:"wrap",background:"none",display:"flex",width:"100%",justifyContent:"space-between",height:"auto"}},e._l(e.hotList,(function(t,n){return i("v-uni-view",{key:n,style:{width:"100%",padding:"20rpx",margin:"0 0 40rpx",background:"linear-gradient(30deg, rgba(246,249,255,1) 0%, rgba(239,244,255,1) 100%),#f1f6ff",clipPath:"polygon(2% 0, 100% 0, 98% 100%, 0% 100%)",height:"auto"},on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.toDetail(t.id)}}},[i("v-uni-image",{style:{objectFit:"cover",borderRadius:"0px",display:"block",clipPath:"polygon(5% 0, 100% 0, 95% 100%, 0% 100%)",width:"32%",float:"left",height:"220rpx"},attrs:{mode:"aspectFill",src:e.baseUrl+t.picture}}),i("v-uni-view",{style:{padding:"0 8rpx",overflow:"hidden",whiteSpace:"nowrap",color:"#333",textAlign:"left",width:"64%",lineHeight:"60rpx",fontSize:"28rpx",textOverflow:"ellipsis",float:"right"}},[e._v(e._s(t.title))]),i("v-uni-view",{style:{padding:"0 8rpx",color:"#999",textAlign:"right",width:"64%",lineHeight:"48rpx",fontSize:"28rpx",float:"right"}},[e._v(e._s(t.addtime))])],1)})),1)],1),i("v-uni-view",{staticClass:"recommend",style:{width:"100%",margin:"40rpx 0 0",background:"none",height:"auto",order:"12"}},[i("v-uni-view",{style:{padding:"0 24rpx",color:"#223860",textAlign:"center",background:"url(http://codegen.caihongy.cn/20231208/dd4367eb2136483aa23e9dc12954f2df.png) no-repeat center top",width:"100%",fontSize:"32rpx",lineHeight:"100rpx",fontWeight:"600",height:"96rpx"}},[e._v("推荐信息")]),i("v-uni-view",{style:{padding:"12rpx 20rpx 24rpx",borderRadius:"0 0 0px 0px",flexWrap:"wrap",background:"#fff",display:"flex",width:"100%",justifyContent:"space-between",height:"auto"}},e._l(e.recommendList,(function(t,n){return i("v-uni-view",{key:n,style:{width:"100%",padding:"20rpx",margin:"0 0 40rpx",background:"linear-gradient(30deg, rgba(246,249,255,1) 0%, rgba(239,244,255,1) 100%),#f1f6ff",clipPath:"polygon(2% 0, 100% 0, 98% 100%, 0% 100%)",height:"auto"},on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.toDetail(t.id)}}},[i("v-uni-image",{style:{objectFit:"cover",borderRadius:"0px",display:"block",clipPath:"polygon(5% 0, 100% 0, 95% 100%, 0% 100%)",width:"32%",float:"left",height:"220rpx"},attrs:{mode:"aspectFill",src:e.baseUrl+t.picture}}),i("v-uni-view",{style:{padding:"0 8rpx",overflow:"hidden",whiteSpace:"nowrap",color:"#333",textAlign:"left",width:"64%",lineHeight:"60rpx",fontSize:"28rpx",textOverflow:"ellipsis",float:"right"}},[e._v(e._s(t.title))]),i("v-uni-view",{style:{padding:"0 8rpx",color:"#999",textAlign:"right",width:"64%",lineHeight:"48rpx",fontSize:"28rpx",float:"right"}},[e._v(e._s(t.addtime))])],1)})),1)],1)],1)},a=[];i.d(t,"b",(function(){return r})),i.d(t,"c",(function(){return a})),i.d(t,"a",(function(){return n}))},"45ec":function(e,t,i){"use strict";var n=i("7fbb"),r=i.n(n);r.a},"7fbb":function(e,t,i){var n=i("8a14");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var r=i("4f06").default;r("1b6895a6",n,!0,{sourceMap:!1,shadowMode:!1})},"8a14":function(e,t,i){var n=i("24fb");t=n(!1),t.push([e.i,'@charset "UTF-8";\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */uni-page-body[data-v-764f281b]{background:#fff}.title[data-v-764f281b]{text-align:center;font-size:%?40?%;font-weight:700;margin:%?20?%}.content[data-v-764f281b]{margin:%?40?%;font-size:%?30?%;line-height:%?50?%;letter-spacing:%?5?%}.operateView[data-v-764f281b]{width:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-justify-content:space-around;justify-content:space-around}.operateView .like_box[data-v-764f281b]{width:40%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;font-size:%?32?%}.operateView .like_box .icon[data-v-764f281b]{font-size:%?36?%;padding:0 %?6?%}.operateView .likeActive[data-v-764f281b]{color:red}body.?%PAGE?%[data-v-764f281b]{background:#fff}',""]),e.exports=t},"8c5f":function(e,t,i){"use strict";var n=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("ac6a"),i("c5f6"),i("a481"),i("96cf");var r=n(i("3b8d")),a={data:function(){return{detail:{},id:"",likeType:!1,likeForm:{},collectType:!1,collectForm:{},allList:[],currentIndex:0,hotList:[],recommendList:[]}},onLoad:function(){var e=(0,r.default)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.id=t.id,this.getInfo(),this.getHotList(),this.getRecommendList();case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),computed:{baseUrl:function(){return this.$base.url},userid:function(){return uni.getStorageSync("appUserid")}},methods:{getInfo:function(){var e=(0,r.default)(regeneratorRuntime.mark((function e(){var t,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$api.info("news",this.id);case 2:return t=e.sent,t.data.content=t.data.content.replace(/<img/g,'<img style="width: 100%;"'),this.detail=t.data,uni.pageScrollTo({scrollTop:0,duration:100}),this.getLike(),this.getCollect(),e.next=10,this.$api.list("news",{page:1,limit:100,sort:"addtime",order:"desc"});case 10:t=e.sent,e.t0=regeneratorRuntime.keys(t.data.list);case 12:if((e.t1=e.t0()).done){e.next=19;break}if(i=e.t1.value,t.data.list[i].id!=this.id){e.next=17;break}return this.currentIndex=Number(i),e.abrupt("break",19);case 17:e.next=12;break;case 19:this.allList=t.data.list;case 20:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getLike:function(){var e=(0,r.default)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$api.list("storeup",{page:1,limit:1,type:21,userid:uni.getStorageSync("appUserid"),refid:this.id,tablename:"news"});case 2:t=e.sent,t.data.list.length?(this.likeType=!0,this.likeForm=t.data.list[0]):(this.likeType=!1,this.likeForm={});case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getHotList:function(){var e=(0,r.default)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$api.recommend("news",{page:1,limit:4,sort:"addtime",order:"desc"});case 2:t=e.sent,this.hotList=t.data.list;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getRecommendList:function(){var e=(0,r.default)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!uni.getStorageSync("appUserid")){e.next=6;break}return e.next=3,this.$api.recommend2("news",{page:1,limit:4,sort:"addtime",order:"desc"});case 3:t=e.sent,e.next=9;break;case 6:return e.next=8,this.$api.recommend("news",{page:1,limit:4,sort:"addtime",order:"desc"});case 8:t=e.sent;case 9:this.recommendList=t.data.list;case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),prepDetailClick:function(){if(0==this.currentIndex)return this.$message.error("已经是第一篇了"),!1;this.currentIndex--,this.id=this.allList[this.currentIndex].id,this.getInfo()},nextDetailClick:function(){if(this.currentIndex==this.allList.length-1)return this.$message.error("已经是最后一篇了"),!1;this.currentIndex++,this.id=this.allList[this.currentIndex].id,this.getInfo()},toDetail:function(e){this.id=e,this.getInfo()},getCollect:function(){var e=(0,r.default)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$api.list("storeup",{page:1,limit:1,type:1,userid:uni.getStorageSync("appUserid"),refid:this.id,tablename:"news"});case 2:t=e.sent,t.data.list.length?(this.collectType=!0,this.collectForm=t.data.list[0]):(this.collectType=!1,this.collectForm={});case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),likeClick:function(){var e=(0,r.default)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this,!this.likeType){e.next=5;break}uni.showModal({title:"提示",content:"是否取消点赞？",success:function(){var e=(0,r.default)(regeneratorRuntime.mark((function e(i){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!i.confirm){e.next=8;break}return e.next=3,t.$api.del("storeup",JSON.stringify([t.likeForm.id]));case 3:return t.$utils.msg("取消成功"),t.detail.thumbsupnum--,e.next=7,t.$api.update("news",t.detail);case 7:t.getLike();case 8:case"end":return e.stop()}}),e)})));function i(t){return e.apply(this,arguments)}return i}()}),e.next=12;break;case 5:return e.next=7,t.$api.add("storeup",{userid:uni.getStorageSync("appUserid"),refid:this.id,type:21,name:this.detail.title,picture:this.detail.picture,tablename:"news"});case 7:return this.$utils.msg("点赞成功"),t.detail.thumbsupnum++,e.next=11,t.$api.update("news",t.detail);case 11:this.getLike();case 12:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),collectClick:function(){var e=(0,r.default)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this,!this.collectType){e.next=5;break}uni.showModal({title:"提示",content:"是否取消收藏？",success:function(){var e=(0,r.default)(regeneratorRuntime.mark((function e(i){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!i.confirm){e.next=8;break}return e.next=3,t.$api.del("storeup",JSON.stringify([t.collectForm.id]));case 3:return t.$utils.msg("取消成功"),t.detail.storeupnum--,e.next=7,t.$api.update("news",t.detail);case 7:t.getCollect();case 8:case"end":return e.stop()}}),e)})));function i(t){return e.apply(this,arguments)}return i}()}),e.next=12;break;case 5:return e.next=7,t.$api.add("storeup",{userid:uni.getStorageSync("appUserid"),refid:this.id,type:1,name:this.detail.title,picture:this.detail.picture,tablename:"news"});case 7:return this.$utils.msg("收藏成功"),t.detail.storeupnum++,e.next=11,t.$api.update("news",t.detail);case 11:this.getCollect();case 12:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}};t.default=a},c147:function(e,t,i){"use strict";i.r(t);var n=i("8c5f"),r=i.n(n);for(var a in n)"default"!==a&&function(e){i.d(t,e,(function(){return n[e]}))}(a);t["default"]=r.a},c3668:function(e,t,i){"use strict";i.r(t);var n=i("2048"),r=i("c147");for(var a in r)"default"!==a&&function(e){i.d(t,e,(function(){return r[e]}))}(a);i("45ec");var s,o=i("f0c5"),l=Object(o["a"])(r["default"],n["b"],n["c"],!1,null,"764f281b",null,!1,n["a"],s);t["default"]=l.exports}}]);